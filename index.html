<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game Home Page</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        body.light-mode {
            background-color: #f0f4f8; /* Light gray background */
            color: #1a202c; /* Dark text */
        }
        body.dark-mode {
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
        }
        .main-card {
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        .light-mode .main-card {
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .dark-mode .main-card {
            background-color: #2d3748; /* Dark gray for the main card */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .section-card {
            transition: background-color 0.3s, border-color 0.3s;
        }
        .light-mode .section-card {
            background-color: #f8fafc; /* Lighter gray for sections */
            border-color: #e2e8f0;
        }
        .dark-mode .section-card {
            background-color: #1f2937; /* Even darker gray for sections */
            border-color: #4b5563;
        }
        .lang-button.selected {
            background-color: #dc2626; /* Red color for selected language button */
        }
        .lang-button:hover.selected {
            background-color: #b91c1c; /* Darker red on hover */
        }
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .light-mode .fixed-header {
            background-color: #2c5282; /* A shade of blue for light mode header */
            color: #ffffff; /* White text */
        }
        /* Add padding to the body to prevent content from being hidden behind the fixed header */
        body {
            padding-top: 8rem;
        }
    </style>
</head>
<body class="light-mode flex flex-col items-center justify-start min-h-screen p-4">

    <!-- Fixed Header -->
    <div class="fixed-header flex flex-col items-start">
        <!-- Welcome to the Quiz Game! section -->
        <div class="w-full">
            <h1 id="header-title" class="text-xl md:text-2xl font-bold">Welcome to the Quiz Game!</h1>
        </div>
        <!-- Language and Dark Mode buttons section -->
        <!-- Add 'w-full' and 'justify-end' to align the buttons to the right -->
        <div class="w-full flex items-center justify-end gap-4 mt-2">
            <!-- Language Buttons -->
            <div class="flex gap-2">
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-1 px-3 rounded-md shadow-inner transition-colors selected" data-lang="si">Si</button>
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-1 px-3 rounded-md shadow-inner transition-colors" data-lang="ta">Ta</button>
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-1 px-3 rounded-md shadow-inner transition-colors" data-lang="en">En</button>
            </div>
            <!-- Mode Toggle Button -->
            <button id="mode-toggle" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-full shadow-inner transition-colors">
                <span id="mode-icon" class="mr-2">üåô</span>
                <span id="mode-text">NIGHTMODE</span>
            </button>
        </div>
    </div>

    <div class="main-card rounded-3xl p-8 md:p-12 w-full max-w-2xl mt-8">
        <!-- Main Content Sections -->
        <div class="flex flex-col gap-8">
            <!-- ‡∂¥‡∂±‡∑ä‡∂≠‡∑í‡∂∫ ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ (Class Selection) -->
            <div class="section-card p-6 rounded-2xl border border-gray-200 dark:border-gray-700">
                <h2 id="class-title" class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Select Class</h2>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 justify-center">
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                </div>
            </div>

            <!-- ‡∂¥‡∑è‡∂©‡∂∏ ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ (Lesson Selection - Initially hidden) -->
            <div id="lesson-selection" class="section-card p-6 rounded-2xl border border-gray-200 dark:border-gray-700 hidden">
                <h2 id="lesson-title" class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200">‡∂¥‡∑è‡∂©‡∂∏ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±</h2>
                <div id="lessons-container" class="flex flex-wrap justify-center gap-4">
                    <!-- Lessons buttons will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂Ø‡∂≠‡∑ä‡∂≠ (Data for Lessons)
        const lessons = {
            'si': {
                '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': ['‡∑Ä‡∑è‡∂´‡∑í‡∂¢', '‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∑ì‡∂∫ ‡∂Ö‡∂ú‡∂∫', '‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è ‡∂∏‡∂≠ ‡∂ú‡∂´‡∑í‡∂≠ ‡∂ö‡∂ª‡∑ä‡∂∏', '‡∂ö‡∑è‡∂Ω‡∂∫', '‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è ‡∂ª‡∑ö‡∂õ‡∑è‡∑Ä', '‡∂±‡∑í‡∂∏‡∑è‡∂±‡∂∫‡∂ö ‡∑É‡∂∑‡∑è ‡∑Ä‡∂ß‡∑î‡∑Ä‡∑ì‡∂∏', '‡∂ö‡∑ù‡∂´', '‡∂Ø‡∑í‡∑Å‡∑è'],
                '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω', '‡∂∑‡∑ñ‡∂ú‡∑ù‡∂Ω ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä'],
                '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∂â‡∂Ç‡∂ú‡∑ä‚Äç‡∂ª‡∑ì‡∑É‡∑í', '‡∑É‡∂∏‡∑è‡∂¢ ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂±‡∂∫'],
                '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', 'ICT', '‡∑É‡∑û‡∂õ‡∑ä‚Äç‡∂∫ ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä'],
                '10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω', '‡∂∂‡∑î‡∂Ø‡∑ä‡∂∞ ‡∂∞‡∂ª‡∑ä‡∂∏‡∂∫', '‡∂â‡∂≠‡∑í‡∑Ñ‡∑è‡∑É‡∂∫'],
                '11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∂ö‡∂Ω‡∑è', '‡∑Ä‡∑è‡∂´‡∑í‡∂¢', '‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´'],
            },
            'en': {
                'Grade 6': ['Commerce', 'Place Value', 'Arithmetic Operations on Integers', 'Time', 'Number Line', 'Rounding Off', 'Angles', 'Directions'],
                'Grade 7': ['Mathematics', 'Science', 'Sinhala', 'Geography'],
                'Grade 8': ['Mathematics', 'Science', 'English', 'Social Studies'],
                'Grade 9': ['Mathematics', 'Science', 'ICT', 'Health Science'],
                'Grade 10': ['Mathematics', 'Science', 'Sinhala', 'Buddhism', 'History'],
                'Grade 11': ['Mathematics', 'Science', 'Arts', 'Commerce', 'Technology'],
            },
            'ta': {
                '6 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': ['‡Æµ‡Æ£‡Æø‡Æï‡ÆÆ‡Øç', '‡Æá‡Æü ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÅ', '‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æï‡Æ£‡Æø‡Æ§ ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡Æ™‡Ææ‡Æü‡ØÅ‡Æï‡Æ≥‡Øç', '‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç', '‡Æé‡Æ£‡Øç ‡Æï‡Øã‡Æü‡ØÅ', '‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Æø‡Æü‡Æ≤‡Øç', '‡Æï‡Øã‡Æ£‡Æô‡Øç‡Æï‡Æ≥‡Øç', '‡Æ§‡Æø‡Æö‡Øà‡Æï‡Æ≥‡Øç'],
                '7 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡Æö‡Æø‡Æô‡Øç‡Æï‡Æ≥‡ÆÆ‡Øç', '‡Æ™‡ØÅ‡Æµ‡Æø‡ÆØ‡Æø‡ÆØ‡Æ≤‡Øç'],
                '8 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡ÆÜ‡Æô‡Øç‡Æï‡Æø‡Æ≤‡ÆÆ‡Øç', '‡Æö‡ÆÆ‡ØÇ‡Æï ‡ÆÜ‡ÆØ‡Øç‡Æµ‡ØÅ'],
                '9 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', 'ICT', '‡Æö‡ØÅ‡Æï‡Ææ‡Æ§‡Ææ‡Æ∞ ‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç'],
                '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡Æö‡Æø‡Æô‡Øç‡Æï‡Æ≥‡ÆÆ‡Øç', '‡Æ™‡Øå‡Æ§‡Øç‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æ∞‡Æ≤‡Ææ‡Æ±‡ØÅ'],
                '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡Æï‡Æ≤‡Øà', '‡Æµ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æï‡ÆÆ‡Øç', '‡Æ§‡Øä‡Æ¥‡Æø‡Æ≤‡Øç‡Æ®‡ØÅ‡Æü‡Øç‡Æ™‡ÆÆ‡Øç'],
            }
        };

        // ‡∂¥‡∂ª‡∑í‡∑Ä‡∂ª‡∑ä‡∂≠‡∂± ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂Ø‡∂≠‡∑ä‡∂≠ (Data for Translations)
        const translations = {
            'si': {
                'headerTitle': 'Quiz Game ‡∂ë‡∂ö‡∂ß ‡∑É‡∑è‡∂Ø‡∂ª‡∂∫‡∑ô‡∂±‡∑ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂ú‡∂±‡∑í‡∂∏‡∑î!',
                'headerSubtitle': '‡∂î‡∂∂‡∑ö ‡∂Ø‡∑ê‡∂±‡∑î‡∂∏ ‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä ‡∂ö‡∂ª‡∂ú‡∂±‡∑ä‡∂±',
                'classTitle': '‡∂¥‡∂±‡∑ä‡∂≠‡∑í‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±',
                'lessonTitle': '‡∂¥‡∑è‡∂©‡∂∏ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±',
                'darkMode': 'Dark Mode',
                'lightMode': 'Light Mode',
                'langSi': 'Si',
                'langTa': 'Ta',
                'langEn': 'En',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            },
            'en': {
                'headerTitle': 'Welcome to the Quiz Game!',
                'headerSubtitle': 'Refresh your knowledge',
                'classTitle': 'Select Class',
                'lessonTitle': 'Select Lesson',
                'darkMode': 'Dark Mode',
                'lightMode': 'Light Mode',
                'langSi': 'Si',
                'langTa': 'Ta',
                'langEn': 'En',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            },
            'ta': {
                'headerTitle': '‡Æµ‡Æø‡Æ©‡Ææ‡Æü‡Æø ‡Æµ‡Æø‡Æ©‡Ææ ‡Æµ‡Æø‡Æ≥‡Øà‡ÆØ‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡Æ∞‡Æµ‡Øá‡Æ±‡Øç‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç!',
                'headerSubtitle': '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ±‡Æø‡Æµ‡Øà ‡Æ™‡ØÅ‡Æ§‡ØÅ‡Æ™‡Øç‡Æ™‡Æø‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Øç ‡Æï‡Øä‡Æ≥‡Øç‡Æ≥‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
                'classTitle': '‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                'lessonTitle': '‡Æ™‡Ææ‡Æü‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                'darkMode': '‡Æá‡Æ∞‡ØÅ‡Æ£‡Øç‡Æü ‡Æ™‡ÆØ‡Æ©‡Øç‡ÆÆ‡ØÅ‡Æ±‡Øà',
                'lightMode': '‡Æí‡Æ≥‡Æø ‡Æ™‡ÆØ‡Æ©‡Øç‡ÆÆ‡ØÅ‡Æ±‡Øà',
                'langSi': 'Si',
                'langTa': 'Ta',
                'langEn': 'En',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            }
        };

        let currentLang = 'si';

        document.addEventListener('DOMContentLoaded', () => {
            const modeToggleBtn = document.getElementById('mode-toggle');
            const modeTextSpan = document.getElementById('mode-text');
            const modeIconSpan = document.getElementById('mode-icon');
            const langButtons = document.querySelectorAll('.lang-button');
            const classButtons = document.querySelectorAll('.class-button');
            const lessonsContainer = document.getElementById('lessons-container');
            const lessonSelectionDiv = document.getElementById('lesson-selection');
            
            // Set initial language button as selected
            document.querySelector(`[data-lang="${currentLang}"]`).classList.add('selected');

            // Dark/Light Mode Toggle
            modeToggleBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                document.body.classList.toggle('light-mode');
                
                const isDarkMode = document.body.classList.contains('dark-mode');
                if (isDarkMode) {
                    modeTextSpan.textContent = translations[currentLang].lightMode;
                    modeIconSpan.textContent = '‚òÄÔ∏è';
                } else {
                    modeTextSpan.textContent = translations[currentLang].nightMode;
                    modeIconSpan.textContent = 'üåô';
                }
            });

            // Language Selection
            langButtons.forEach(button => {
                button.addEventListener('click', () => {
                    langButtons.forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                    currentLang = button.dataset.lang;
                    updateLanguage();
                    displayLessons(document.querySelector('.class-button.bg-red-600')?.textContent.trim() || null);
                });
            });

            // Class Selection
            classButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove the red highlight from any previously selected class button
                    classButtons.forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));
                    // Add the red highlight to the clicked class button
                    button.classList.add('bg-red-600', 'hover:bg-red-700');
                    // Remove any highlight from previously selected lesson buttons
                    document.querySelectorAll('.lesson-button').forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));

                    const className = button.textContent.trim();
                    displayLessons(className);
                });
            });

            // Function to update all text based on selected language
            function updateLanguage() {
                const lang = currentLang;
                const texts = translations[lang];

                document.getElementById('header-title').textContent = texts.headerTitle;
                document.getElementById('class-title').textContent = texts.classTitle;
                document.getElementById('lesson-title').textContent = texts.lessonTitle;
                
                const isDarkMode = document.body.classList.contains('dark-mode');
                if (isDarkMode) {
                    modeTextSpan.textContent = translations[currentLang].lightMode;
                } else {
                    modeTextSpan.textContent = translations[currentLang].nightMode;
                }

                // Update class button texts
                const classNames = Object.keys(lessons['si']);
                classButtons.forEach((button, index) => {
                    if (lang === 'en') {
                        const enClassMap = {
                            '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': 'Grade 6', '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': 'Grade 7', '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': 'Grade 8',
                            '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': 'Grade 9', '10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': 'Grade 10', '11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': 'Grade 11'
                        };
                        const originalText = classNames[index];
                        button.textContent = enClassMap[originalText];
                    } else if (lang === 'ta') {
                        const taClassMap = {
                            '6 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '7 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '8 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫',
                            '9 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ', '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ'
                        };
                        const originalText = classNames[index];
                        button.textContent = taClassMap[originalText];
                    } else {
                        button.textContent = classNames[index];
                    }
                });

                // Re-display lessons if a class is already selected
                const selectedClassButton = document.querySelector('.class-button.bg-red-600');
                if (selectedClassButton) {
                    const originalClassText = Object.keys(lessons['si']).find(key => {
                        const enClassMap = { 'Grade 6': '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 7': '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 8': '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 9': '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 10': '10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 11': '11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫' };
                        const taClassMap = { '6 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '7 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '8 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '9 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ', '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ' };
                        
                        return (lang === 'si' && selectedClassButton.textContent.trim() === key) ||
                               (lang === 'en' && enClassMap[selectedClassButton.textContent.trim()] === key) ||
                               (lang === 'ta' && taClassMap[selectedClassButton.textContent.trim()] === key);
                    });
                    if (originalClassText) {
                        displayLessons(originalClassText);
                    }
                }
            }

            // Function to display lessons based on the selected class
            function displayLessons(className) {
                lessonsContainer.innerHTML = ''; // Clear existing lesson buttons
                let selectedLessons = lessons[currentLang][className];
                
                if (!selectedLessons) {
                    const originalClassKey = Object.keys(lessons['si']).find(key => {
                        const enClassMap = { 'Grade 6': '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 7': '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 8': '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'Grade 9': '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': '10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫': '11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫' };
                        const taClassMap = { '6 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '7 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '8 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '9 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ', '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ': '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ' };
                        
                        return (currentLang === 'en' && enClassMap[className] === key) ||
                               (currentLang === 'ta' && taClassMap[className] === key);
                    });
                    if (originalClassKey) {
                        selectedLessons = lessons[currentLang][originalClassKey];
                    }
                }

                if (selectedLessons) {
                    selectedLessons.forEach((lesson, index) => {
                        const lessonButton = document.createElement('button');
                        lessonButton.textContent = `${index + 1}. ${lesson}`;
                        lessonButton.classList.add('lesson-button', 'bg-purple-600', 'hover:bg-purple-700', 'text-white', 'font-medium', 'py-3', 'px-6', 'rounded-xl', 'shadow-md', 'transition-transform', 'transform', 'hover:scale-105');
                        
                        // ‡∂¥‡∑è‡∂©‡∂∏ ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏ ‡∂ö‡∑ä‡∂Ω‡∑í‡∂ö‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂±‡∑Ä Event Listener ‡∂ë‡∂ö
                        lessonButton.addEventListener('click', () => {
                            // ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∂¥‡∂±‡∑ä‡∂≠‡∑í ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏‡∑ä‡∑Ä‡∂Ω‡∑í‡∂±‡∑ä ‡∂ª‡∂≠‡∑î ‡∂¥‡∑ê‡∑Ñ‡∑ê‡∂∫ ‡∂â‡∑Ä‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                            classButtons.forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));
                            
                            // ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏‡∑ä‡∑Ä‡∂Ω‡∑í‡∂±‡∑ä ‡∂ª‡∂≠‡∑î ‡∂¥‡∑ê‡∑Ñ‡∑ê‡∂∫ ‡∂â‡∑Ä‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                            document.querySelectorAll('.lesson-button').forEach(btn => {
                                btn.classList.remove('bg-red-600', 'hover:bg-red-700');
                                btn.classList.add('bg-purple-600', 'hover:bg-purple-700');
                            });
                            
                            // ‡∂ö‡∑ä‡∂Ω‡∑í‡∂ö‡∑ä ‡∂ö‡∑Ö ‡∂¥‡∑è‡∂©‡∂∏‡∑ä ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏ ‡∂ª‡∂≠‡∑î ‡∂¥‡∑ê‡∑Ñ‡∑ê‡∂∫‡∂ß ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                            lessonButton.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                            lessonButton.classList.add('bg-red-600', 'hover:bg-red-700');
                        });
                        
                        lessonsContainer.appendChild(lessonButton);
                    });
                    lessonSelectionDiv.classList.remove('hidden'); // Show the lesson section
                } else {
                    lessonSelectionDiv.classList.add('hidden'); // Hide the lesson section
                }
            }
        });
    </script>
</body>
</html>
