<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game Home Page</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
            overflow-x: hidden; /* Prevents horizontal scroll bar */
        }
        body.light-mode {
            background-color: #f0f4f8; /* Light gray background */
            color: #1a202c; /* Dark text */
        }
        body.dark-mode {
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
        }
        .main-content-wrapper {
            transition: transform 0.3s ease-in-out;
            width: 100%;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        body.sidebar-open .main-content-wrapper {
            transform: translateX(280px); /* Pushes content to the right by the sidebar's width */
        }
        /* Hide the menu toggle button when the sidebar is open */
        body.sidebar-open #menu-toggle {
            display: none;
        }
        .main-card {
            transition: background-color 0.3s, box-shadow 0.3s;
            max-width: 2xl;
        }
        .light-mode .main-card {
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .dark-mode .main-card {
            background-color: #2d3748; /* Dark gray for the main card */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .section-card {
            transition: background-color 0.3s, border-color 0.3s;
        }
        .light-mode .section-card {
            background-color: #f8fafc; /* Lighter gray for sections */
            border-color: #e2e8f0;
        }
        .dark-mode .section-card {
            background-color: #1f2937; /* Even darker gray for sections */
            border-color: #4b5563;
        }
        .lang-button.selected {
            background-color: #dc2626; /* Red color for selected language button */
        }
        .lang-button:hover.selected {
            background-color: #b91c1c; /* Darker red on hover */
        }
        /* Sidebar styles */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 280px;
            z-index: 1001;
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            box-shadow: 2px 0 5px rgba(0,0,0,0.2);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .sidebar.open {
            transform: translateX(0);
        }
        .sidebar-header {
            display: flex;
            justify-content: space-between; /* Space between title and close button */
            align-items: center;
        }
        .sidebar-header h1 {
            font-size: 1.5rem;
            font-weight: bold;
        }
        .sidebar-header button {
            background: none;
            border: none;
            font-size: 2rem;
            line-height: 1;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
        }
        .overlay.active {
            display: block;
            opacity: 1;
        }
    </style>
</head>
<body class="light-mode">

    <!-- Menu Toggle Button, always visible on the main page until the sidebar is open -->
    <button id="menu-toggle" class="fixed top-4 left-4 z-2000 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium p-2 rounded-full shadow-lg transition-colors">
        ‚ò∞
    </button>

    <!-- Sidebar Menu -->
    <div id="sidebar-menu" class="sidebar light-mode">
        <div class="sidebar-header">
            <h1 id="sidebar-title">Quiz Game</h1>
            <!-- Close button for the sidebar -->
            <button id="close-menu" class="text-gray-800 dark:text-white">
                &times;
            </button>
        </div>

        <!-- Language Buttons -->
        <div class="flex flex-col gap-4">
            <h2 class="text-lg font-semibold" id="language-title">‡∂∑‡∑è‡∑Ç‡∑è‡∑Ä</h2>
            <div class="flex flex-col gap-2">
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-md shadow-inner transition-colors selected" data-lang="si">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</button>
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-md shadow-inner transition-colors" data-lang="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-md shadow-inner transition-colors" data-lang="en">English</button>
            </div>
        </div>

        <!-- Mode Toggle Button -->
        <div class="flex flex-col gap-4">
            <h2 class="text-lg font-semibold" id="mode-title">‡∂∏‡∑è‡∂Ø‡∑í‡∂Ω‡∑í‡∂∫</h2>
            <button id="mode-toggle" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-full shadow-inner transition-colors">
                <span id="mode-icon" class="mr-2">üåô</span>
                <span id="mode-text">NIGHTMODE</span>
            </button>
        </div>
    </div>
    
    <!-- Overlay for the sidebar -->
    <div id="sidebar-overlay" class="overlay"></div>

    <!-- Wrapper for the main content to enable sliding -->
    <div id="main-content-wrapper" class="main-content-wrapper flex flex-col items-center justify-start min-h-screen">
        <div class="main-card rounded-3xl p-8 md:p-12 w-full max-w-2xl mt-8">
            <!-- Main Content Sections -->
            <div class="flex flex-col gap-8">
                <!-- ‡∂¥‡∂±‡∑ä‡∂≠‡∑í‡∂∫ ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ (Class Selection) -->
                <div class="section-card p-6 rounded-2xl border border-gray-200 dark:border-gray-700">
                    <h2 id="class-title" class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Select Class</h2>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 justify-center">
                        <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105" data-class="grade6">6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                        <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105" data-class="grade7">7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                        <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105" data-class="grade8">8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                        <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105" data-class="grade9">9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                        <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105" data-class="grade10">10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                        <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105" data-class="grade11">11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫</button>
                    </div>
                </div>

                <!-- ‡∂¥‡∑è‡∂©‡∂∏ ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ (Lesson Selection - Initially hidden) -->
                <div id="lesson-selection" class="section-card p-6 rounded-2xl border border-gray-200 dark:border-gray-700 hidden">
                    <h2 id="lesson-title" class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200">‡∂¥‡∑è‡∂©‡∂∏ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±</h2>
                    <div id="lessons-container" class="flex flex-wrap justify-center gap-4">
                        <!-- Lessons buttons will be dynamically added here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data for Lessons and Grades
        const lessons = {
            'grade6': {
                'si': ['‡∑Ä‡∑è‡∂´‡∑í‡∂¢', '‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∑ì‡∂∫ ‡∂Ö‡∂ú‡∂∫', '‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è ‡∂∏‡∂≠ ‡∂ú‡∂´‡∑í‡∂≠ ‡∂ö‡∂ª‡∑ä‡∂∏', '‡∂ö‡∑è‡∂Ω‡∂∫', '‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è ‡∂ª‡∑ö‡∂õ‡∑è‡∑Ä', '‡∂±‡∑í‡∂∏‡∑è‡∂±‡∂∫‡∂ö ‡∑É‡∂∑‡∑è ‡∑Ä‡∂ß‡∑î‡∑Ä‡∑ì‡∂∏', '‡∂ö‡∑ù‡∂´', '‡∂Ø‡∑í‡∑Å‡∑è'],
                'en': ['Commerce', 'Place Value', 'Arithmetic Operations on Integers', 'Time', 'Number Line', 'Rounding Off', 'Angles', 'Directions'],
                'ta': ['‡Æµ‡Æ£‡Æø‡Æï‡ÆÆ‡Øç', '‡Æá‡Æü ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÅ', '‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æï‡Æ£‡Æø‡Æ§ ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡Æ™‡Ææ‡Æü‡ØÅ‡Æï‡Æ≥‡Øç', '‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç', '‡Æé‡Æ£‡Øç ‡Æï‡Øã‡Æü‡ØÅ', '‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Æø‡Æü‡Æ≤‡Øç', '‡Æï‡Øã‡Æ£‡Æô‡Øç‡Æï‡Æ≥‡Øç', '‡Æ§‡Æø‡Æö‡Øà‡Æï‡Æ≥‡Øç'],
            },
            'grade7': {
                'si': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω', '‡∂∑‡∑ñ‡∂ú‡∑ù‡∂Ω ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä'],
                'en': ['Mathematics', 'Science', 'Sinhala', 'Geography'],
                'ta': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω', '‡Æ™‡ØÅ‡Æµ‡Æø‡ÆØ‡Æø‡∂Ω'],
            },
            'grade8': {
                'si': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∂â‡∂Ç‡∂ú‡∑ä‚Äç‡∂ª‡∑ì‡∑É‡∑í', '‡∑É‡∂∏‡∑è‡∂¢ ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∂∫‡∂±‡∂∫'],
                'en': ['Mathematics', 'Science', 'English', 'Social Studies'],
                'ta': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡ÆÜ‡Æô‡Øç‡Æï‡Æø‡Æ≤‡ÆÆ‡Øç', '‡Æö‡ÆÆ‡ØÇ‡Æï ‡ÆÜ‡ÆØ‡Øç‡Æµ‡ØÅ'],
            },
            'grade9': {
                'si': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', 'ICT', '‡∑É‡∑û‡∂õ‡∑ä‚Äç‡∂∫ ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä'],
                'en': ['Mathematics', 'Science', 'ICT', 'Health Science'],
                'ta': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', 'ICT', '‡Æö‡ØÅ‡Æï‡Ææ‡Æ§‡Ææ‡Æ∞ ‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç'],
            },
            'grade10': {
                'si': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω', '‡∂∂‡∑î‡∂Ø‡∑ä‡∂∞ ‡∂∞‡∂ª‡∑ä‡∂∏‡∂∫', '‡∂â‡∂≠‡∑í‡∑Ñ‡∑è‡∑É‡∂∫'],
                'en': ['Mathematics', 'Science', 'Sinhala', 'Buddhism', 'History'],
                'ta': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω', '‡∂¥‡∑û‡Æ§‡Øç‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æ∞‡∂Ω‡∑è‡Æ±‡ØÅ'],
            },
            'grade11': {
                'si': ['‡∂ú‡∂´‡∑í‡∂≠‡∂∫', '‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∑Ä', '‡∂ö‡∂Ω‡∑è', '‡∑Ä‡∑è‡∂´‡∑í‡∂¢', '‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´'],
                'en': ['Mathematics', 'Science', 'Arts', 'Commerce', 'Technology'],
                'ta': ['‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç', '‡Æµ‡Æø‡Æû‡Øç‡Æû‡Ææ‡Æ©‡ÆÆ‡Øç', '‡∂ö‡∂Ω‡∑è', '‡Æµ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æï‡ÆÆ‡Øç', '‡Æ§‡Øä‡Æ¥‡Æø‡Æ≤‡Øç‡Æ®‡ØÅ‡Æü‡Øç‡Æ™‡∂∫'],
            }
        };

        // Grade Name Translations
        const classTranslations = {
            'grade6': {'si': '6 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'en': 'Grade 6', 'ta': '6 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ'},
            'grade7': {'si': '7 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'en': 'Grade 7', 'ta': '7 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ'},
            'grade8': {'si': '8 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'en': 'Grade 8', 'ta': '8 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ'},
            'grade9': {'si': '9 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'en': 'Grade 9', 'ta': '9 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ'},
            'grade10': {'si': '10 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'en': 'Grade 10', 'ta': '10 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ'},
            'grade11': {'si': '11 ‡∑Ä‡∂± ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫', 'en': 'Grade 11', 'ta': '11 ‡ÆÜ‡ÆÆ‡Øç ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ'},
        };

        // Translations for UI text
        const translations = {
            'si': {
                'sidebarTitle': 'Quiz Game',
                'languageTitle': '‡∂∑‡∑è‡∑Ç‡∑è‡∑Ä',
                'modeTitle': '‡∂∏‡∑è‡∂Ø‡∑í‡∂Ω‡∑í‡∂∫',
                'classTitle': '‡∂¥‡∂±‡∑ä‡∂≠‡∑í‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±',
                'lessonTitle': '‡∂¥‡∑è‡∂©‡∂∏ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            },
            'en': {
                'sidebarTitle': 'Quiz Game',
                'languageTitle': 'Language',
                'modeTitle': 'Mode',
                'classTitle': 'Select Class',
                'lessonTitle': 'Select Lesson',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            },
            'ta': {
                'sidebarTitle': '‡Æµ‡Æø‡Æ©‡Ææ‡Æü‡Æø ‡Æµ‡Æø‡Æ©‡Ææ ‡Æµ‡Æø‡Æ≥‡Øà‡ÆØ‡Ææ‡Æü‡Øç‡Æü‡ØÅ',
                'languageTitle': '‡ÆÆ‡Øä‡Æ¥‡Æø',
                'modeTitle': '‡ÆÆ‡ØÅ‡Æ±‡Øà',
                'classTitle': '‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                'lessonTitle': '‡Æ™‡Ææ‡Æü‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            }
        };

        let currentLang = 'si';
        let selectedClassKey = null;

        document.addEventListener('DOMContentLoaded', () => {
            const modeToggleBtn = document.getElementById('mode-toggle');
            const modeTextSpan = document.getElementById('mode-text');
            const modeIconSpan = document.getElementById('mode-icon');
            const langButtons = document.querySelectorAll('.lang-button');
            const classButtons = document.querySelectorAll('.class-button');
            const lessonsContainer = document.getElementById('lessons-container');
            const lessonSelectionDiv = document.getElementById('lesson-selection');
            const sidebarMenu = document.getElementById('sidebar-menu');
            const menuToggleBtn = document.getElementById('menu-toggle');
            const closeMenuBtn = document.getElementById('close-menu');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const body = document.body;

            // Set initial language button as selected
            document.querySelector(`[data-lang="${currentLang}"]`).classList.add('selected');

            // Open sidebar functionality
            menuToggleBtn.addEventListener('click', () => {
                sidebarMenu.classList.add('open');
                sidebarOverlay.classList.add('active');
                body.classList.add('sidebar-open');
            });

            // Close sidebar functionality
            const closeSidebar = () => {
                sidebarMenu.classList.remove('open');
                sidebarOverlay.classList.remove('active');
                body.classList.remove('sidebar-open');
            };

            closeMenuBtn.addEventListener('click', closeSidebar);
            sidebarOverlay.addEventListener('click', closeSidebar);

            // Dark/Light Mode Toggle
            modeToggleBtn.addEventListener('click', () => {
                body.classList.toggle('dark-mode');
                body.classList.toggle('light-mode');
                
                const isDarkMode = body.classList.contains('dark-mode');
                if (isDarkMode) {
                    sidebarMenu.classList.add('dark-mode');
                    sidebarMenu.classList.remove('light-mode');
                    modeTextSpan.textContent = translations[currentLang].lightMode;
                    modeIconSpan.textContent = '‚òÄÔ∏è';
                } else {
                    sidebarMenu.classList.add('light-mode');
                    sidebarMenu.classList.remove('dark-mode');
                    modeTextSpan.textContent = translations[currentLang].nightMode;
                    modeIconSpan.textContent = 'üåô';
                }
            });

            // Language Selection
            langButtons.forEach(button => {
                button.addEventListener('click', () => {
                    langButtons.forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                    currentLang = button.dataset.lang;
                    updateLanguage();
                    if (selectedClassKey) {
                        displayLessons(selectedClassKey);
                    }
                });
            });

            // Class Selection
            classButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove the red highlight from any previously selected class button
                    classButtons.forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));
                    // Add the red highlight to the clicked class button
                    button.classList.add('bg-red-600', 'hover:bg-red-700');
                    // Remove any highlight from previously selected lesson buttons
                    document.querySelectorAll('.lesson-button').forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));

                    selectedClassKey = button.dataset.class;
                    displayLessons(selectedClassKey);
                });
            });

            // Function to update all text based on selected language
            function updateLanguage() {
                const texts = translations[currentLang];
                // Update sidebar title and other static text
                document.getElementById('sidebar-title').textContent = texts.sidebarTitle;
                document.getElementById('language-title').textContent = texts.languageTitle;
                document.getElementById('mode-title').textContent = texts.modeTitle;
                document.getElementById('class-title').textContent = texts.classTitle;
                document.getElementById('lesson-title').textContent = texts.lessonTitle;

                // Mode toggle text update
                const isDarkMode = body.classList.contains('dark-mode');
                if (isDarkMode) {
                    modeTextSpan.textContent = translations[currentLang].lightMode;
                } else {
                    modeTextSpan.textContent = translations[currentLang].nightMode;
                }

                // Update class button texts
                classButtons.forEach(button => {
                    const classKey = button.dataset.class;
                    button.textContent = classTranslations[classKey][currentLang];
                });
            }

            // Function to display lessons based on the selected class
            function displayLessons(classKey) {
                lessonsContainer.innerHTML = ''; // Clear existing lesson buttons
                const selectedLessons = lessons[classKey][currentLang];
                
                if (selectedLessons) {
                    selectedLessons.forEach((lesson, index) => {
                        const lessonButton = document.createElement('button');
                        lessonButton.textContent = `${index + 1}. ${lesson}`;
                        lessonButton.classList.add('lesson-button', 'bg-purple-600', 'hover:bg-purple-700', 'text-white', 'font-medium', 'py-3', 'px-6', 'rounded-xl', 'shadow-md', 'transition-transform', 'transform', 'hover:scale-105');
                        
                        // Add new Event Listener for lesson buttons
                        lessonButton.addEventListener('click', () => {
                            // Remove red highlight from all class buttons
                            classButtons.forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));
                            
                            // Remove red highlight from all lesson buttons and reset to purple
                            document.querySelectorAll('.lesson-button').forEach(btn => {
                                btn.classList.remove('bg-red-600', 'hover:bg-red-700');
                                btn.classList.add('bg-purple-600', 'hover:bg-purple-700');
                            });
                            
                            // Highlight the clicked lesson button in red
                            lessonButton.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                            lessonButton.classList.add('bg-red-600', 'hover:bg-red-700');
                        });
                        
                        lessonsContainer.appendChild(lessonButton);
                    });
                    lessonSelectionDiv.classList.remove('hidden'); // Show the lesson section
                } else {
                    lessonSelectionDiv.classList.add('hidden'); // Hide the lesson section
                }
            }

            // Initial language update to set correct text on load
            updateLanguage();
        });
    </script>
</body>
</html>
