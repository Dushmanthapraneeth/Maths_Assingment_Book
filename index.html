<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game Home Page</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        body.light-mode {
            background-color: #f0f4f8; /* Light gray background */
            color: #1a202c; /* Dark text */
        }
        body.dark-mode {
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
        }
        .main-card {
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        .light-mode .main-card {
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .dark-mode .main-card {
            background-color: #2d3748; /* Dark gray for the main card */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .section-card {
            transition: background-color 0.3s, border-color 0.3s;
        }
        .light-mode .section-card {
            background-color: #f8fafc; /* Lighter gray for sections */
            border-color: #e2e8f0;
        }
        .dark-mode .section-card {
            background-color: #1f2937; /* Even darker gray for sections */
            border-color: #4b5563;
        }
        .lang-button.selected {
            background-color: #dc2626; /* Red color for selected language button */
        }
        .lang-button:hover.selected {
            background-color: #b91c1c; /* Darker red on hover */
        }
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .light-mode .fixed-header {
            background-color: #2c5282; /* A shade of blue for light mode header */
            color: #ffffff; /* White text */
        }
        /* Add padding to the body to prevent content from being hidden behind the fixed header */
        body {
            padding-top: 8rem;
        }
    </style>
</head>
<body class="light-mode flex flex-col items-center justify-start min-h-screen p-4">

    <!-- Fixed Header -->
    <div class="fixed-header flex flex-col items-start">
        <!-- Welcome to the Quiz Game! section -->
        <div class="w-full">
            <h1 id="header-title" class="text-xl md:text-2xl font-bold">Welcome to the Quiz Game!</h1>
        </div>
        <!-- Language and Dark Mode buttons section -->
        <!-- Add 'w-full' and 'justify-end' to align the buttons to the right -->
        <div class="w-full flex items-center justify-end gap-4 mt-2">
            <!-- Language Buttons -->
            <div class="flex gap-2">
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-1 px-3 rounded-md shadow-inner transition-colors selected" data-lang="si">Si</button>
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-1 px-3 rounded-md shadow-inner transition-colors" data-lang="ta">Ta</button>
                <button class="lang-button bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-1 px-3 rounded-md shadow-inner transition-colors" data-lang="en">En</button>
            </div>
            <!-- Mode Toggle Button -->
            <button id="mode-toggle" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-full shadow-inner transition-colors">
                <span id="mode-icon" class="mr-2">ЁЯМЩ</span>
                <span id="mode-text">NIGHTMODE</span>
            </button>
        </div>
    </div>

    <div class="main-card rounded-3xl p-8 md:p-12 w-full max-w-2xl mt-8">
        <!-- Main Content Sections -->
        <div class="flex flex-col gap-8">
            <!-- р╢┤р╢▒р╖Кр╢нр╖Тр╢║ р╢нр╖Эр╢╗р╖Пр╢Ьр╖Рр╢▒р╖Ур╢╕ (Class Selection) -->
            <div class="section-card p-6 rounded-2xl border border-gray-200 dark:border-gray-700">
                <h2 id="class-title" class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Select Class</h2>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 justify-center">
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">10 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║</button>
                    <button class="class-button bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-transform transform hover:scale-105">11 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║</button>
                </div>
            </div>

            <!-- р╢┤р╖Пр╢йр╢╕ р╢нр╖Эр╢╗р╖Пр╢Ьр╖Рр╢▒р╖Ур╢╕ (Lesson Selection - Initially hidden) -->
            <div id="lesson-selection" class="section-card p-6 rounded-2xl border border-gray-200 dark:border-gray-700 hidden">
                <h2 id="lesson-title" class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200">р╢┤р╖Пр╢йр╢╕ р╢нр╖Эр╢╗р╢▒р╖Кр╢▒</h2>
                <div id="lessons-container" class="flex flex-wrap justify-center gap-4">
                    <!-- Lessons buttons will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // р╢┤р╖Пр╢йр╢╕р╖К р╖Гр╢│р╖Др╖П р╢пр╢нр╖Кр╢н (Data for Lessons)
        const lessons = {
            'si': {
                '6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': ['р╖Ар╖Пр╢лр╖Тр╢в', 'р╖Гр╖Кр╢ор╖Пр╢▒р╖Ур╢║ р╢Ер╢Ьр╢║', 'р╢┤р╖Цр╢╗р╖Кр╢л р╖Гр╢Вр╢Ыр╖КтАНр╢║р╖П р╢╕р╢н р╢Ьр╢лр╖Тр╢н р╢Ър╢╗р╖Кр╢╕', 'р╢Ър╖Пр╢╜р╢║', 'р╖Гр╢Вр╢Ыр╖КтАНр╢║р╖П р╢╗р╖Ър╢Ыр╖Пр╖А', 'р╢▒р╖Тр╢╕р╖Пр╢▒р╢║р╢Ъ р╖Гр╢╖р╖П р╖Ар╢зр╖Фр╖Ар╖Ур╢╕', 'р╢Ър╖Эр╢л', 'р╢пр╖Тр╖Бр╖П'],
                '7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': ['р╢Ьр╢лр╖Тр╢нр╢║', 'р╖Ар╖Тр╢пр╖КтАНр╢║р╖Пр╖А', 'р╖Гр╖Тр╢Вр╖Др╢╜', 'р╢╖р╖Цр╢Ьр╖Эр╢╜ р╖Ар╖Тр╢пр╖КтАНр╢║р╖Пр╖А'],
                '8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': ['р╢Ьр╢лр╖Тр╢нр╢║', 'р╖Ар╖Тр╢пр╖КтАНр╢║р╖Пр╖А', 'р╢Йр╢Вр╢Ьр╖КтАНр╢╗р╖Ур╖Гр╖Т', 'р╖Гр╢╕р╖Пр╢в р╢Ер╢░р╖КтАНр╢║р╢║р╢▒р╢║'],
                '9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': ['р╢Ьр╢лр╖Тр╢нр╢║', 'р╖Ар╖Тр╢пр╖КтАНр╢║р╖Пр╖А', 'ICT', 'р╖Гр╖Юр╢Ыр╖КтАНр╢║ р╖Ар╖Тр╢пр╖КтАНр╢║р╖Пр╖А'],
                '10 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': ['р╢Ьр╢лр╖Тр╢нр╢║', 'р╖Ар╖Тр╢пр╖КтАНр╢║р╖Пр╖А', 'р╖Гр╖Тр╢Вр╖Др╢╜', 'р╢╢р╖Фр╢пр╖Кр╢░ р╢░р╢╗р╖Кр╢╕р╢║', 'р╢Йр╢нр╖Тр╖Др╖Пр╖Гр╢║'],
                '11 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': ['р╢Ьр╢лр╖Тр╢нр╢║', 'р╖Ар╖Тр╢пр╖КтАНр╢║р╖Пр╖А', 'р╢Ър╢╜р╖П', 'р╖Ар╖Пр╢лр╖Тр╢в', 'р╢нр╖Пр╢Ър╖Кр╖Вр╢л'],
            },
            'en': {
                'Grade 6': ['Commerce', 'Place Value', 'Arithmetic Operations on Integers', 'Time', 'Number Line', 'Rounding Off', 'Angles', 'Directions'],
                'Grade 7': ['Mathematics', 'Science', 'Sinhala', 'Geography'],
                'Grade 8': ['Mathematics', 'Science', 'English', 'Social Studies'],
                'Grade 9': ['Mathematics', 'Science', 'ICT', 'Health Science'],
                'Grade 10': ['Mathematics', 'Science', 'Sinhala', 'Buddhism', 'History'],
                'Grade 11': ['Mathematics', 'Science', 'Arts', 'Commerce', 'Technology'],
            },
            'ta': {
                '6 роЖроорпН ро╡роХрпБрокрпНрокрпБ': ['ро╡рогро┐роХроорпН', 'роЗроЯ роородро┐рокрпНрокрпБ', 'роорпБро┤рпБ роОрогрпНроХро│ро┐ро▓рпН роХрогро┐род роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпН', 'роирпЗро░роорпН', 'роОрогрпН роХрпЛроЯрпБ', 'ро╡роЯрпНроЯрооро┐роЯро▓рпН', 'роХрпЛрогроЩрпНроХро│рпН', 'родро┐роЪрпИроХро│рпН'],
                '7 роЖроорпН ро╡роХрпБрокрпНрокрпБ': ['роХрогро┐родроорпН', 'ро╡ро┐роЮрпНроЮро╛ройроорпН', 'роЪро┐роЩрпНроХро│роорпН', 'рокрпБро╡ро┐ропро┐ропро▓рпН'],
                '8 роЖроорпН ро╡роХрпБрокрпНрокрпБ': ['роХрогро┐родроорпН', 'ро╡ро┐роЮрпНроЮро╛ройроорпН', 'роЖроЩрпНроХро┐ро▓роорпН', 'роЪроорпВроХ роЖропрпНро╡рпБ'],
                '9 роЖроорпН ро╡роХрпБрокрпНрокрпБ': ['роХрогро┐родроорпН', 'ро╡ро┐роЮрпНроЮро╛ройроорпН', 'ICT', 'роЪрпБроХро╛родро╛ро░ ро╡ро┐роЮрпНроЮро╛ройроорпН'],
                '10 роЖроорпН ро╡роХрпБрокрпНрокрпБ': ['роХрогро┐родроорпН', 'ро╡ро┐роЮрпНроЮро╛ройроорпН', 'роЪро┐роЩрпНроХро│роорпН', 'рокрпМродрпНродроорпН', 'ро╡ро░ро▓ро╛ро▒рпБ'],
                '11 роЖроорпН ро╡роХрпБрокрпНрокрпБ': ['роХрогро┐родроорпН', 'ро╡ро┐роЮрпНроЮро╛ройроорпН', 'роХро▓рпИ', 'ро╡ро░рпНродрпНродроХроорпН', 'родрпКро┤ро┐ро▓рпНроирпБроЯрпНрокроорпН'],
            }
        };

        // р╢┤р╢╗р╖Тр╖Ар╢╗р╖Кр╢нр╢▒ р╖Гр╢│р╖Др╖П р╢пр╢нр╖Кр╢н (Data for Translations)
        const translations = {
            'si': {
                'headerTitle': 'Quiz Game р╢Ср╢Ър╢з р╖Гр╖Пр╢пр╢╗р╢║р╖Щр╢▒р╖К р╢┤р╖Тр╖Ер╖Тр╢Ьр╢▒р╖Тр╢╕р╖Ф!',
                'headerSubtitle': 'р╢Фр╢╢р╖Ъ р╢пр╖Рр╢▒р╖Фр╢╕ р╢Ер╢╜р╖Фр╢нр╖К р╢Ър╢╗р╢Ьр╢▒р╖Кр╢▒',
                'classTitle': 'р╢┤р╢▒р╖Кр╢нр╖Тр╢║ р╢нр╖Эр╢╗р╢▒р╖Кр╢▒',
                'lessonTitle': 'р╢┤р╖Пр╢йр╢╕ р╢нр╖Эр╢╗р╢▒р╖Кр╢▒',
                'darkMode': 'Dark Mode',
                'lightMode': 'Light Mode',
                'langSi': 'Si',
                'langTa': 'Ta',
                'langEn': 'En',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            },
            'en': {
                'headerTitle': 'Welcome to the Quiz Game!',
                'headerSubtitle': 'Refresh your knowledge',
                'classTitle': 'Select Class',
                'lessonTitle': 'Select Lesson',
                'darkMode': 'Dark Mode',
                'lightMode': 'Light Mode',
                'langSi': 'Si',
                'langTa': 'Ta',
                'langEn': 'En',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            },
            'ta': {
                'headerTitle': 'ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛ ро╡ро┐ро│рпИропро╛роЯрпНроЯрпБроХрпНроХрпБ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН!',
                'headerSubtitle': 'роЙроЩрпНроХро│рпН роЕро▒ро┐ро╡рпИ рокрпБродрпБрокрпНрокро┐родрпНродрпБроХрпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН',
                'classTitle': 'ро╡роХрпБрокрпНрокрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН',
                'lessonTitle': 'рокро╛роЯродрпНродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН',
                'darkMode': 'роЗро░рпБрогрпНроЯ рокропройрпНроорпБро▒рпИ',
                'lightMode': 'роТро│ро┐ рокропройрпНроорпБро▒рпИ',
                'langSi': 'Si',
                'langTa': 'Ta',
                'langEn': 'En',
                'nightMode': 'NIGHTMODE',
                'lightMode': 'LIGHTMODE',
            }
        };

        let currentLang = 'si';

        document.addEventListener('DOMContentLoaded', () => {
            const modeToggleBtn = document.getElementById('mode-toggle');
            const modeTextSpan = document.getElementById('mode-text');
            const modeIconSpan = document.getElementById('mode-icon');
            const langButtons = document.querySelectorAll('.lang-button');
            const classButtons = document.querySelectorAll('.class-button');
            const lessonsContainer = document.getElementById('lessons-container');
            const lessonSelectionDiv = document.getElementById('lesson-selection');
            
            // Set initial language button as selected
            document.querySelector(`[data-lang="${currentLang}"]`).classList.add('selected');

            // Dark/Light Mode Toggle
            modeToggleBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                document.body.classList.toggle('light-mode');
                
                const isDarkMode = document.body.classList.contains('dark-mode');
                if (isDarkMode) {
                    modeTextSpan.textContent = translations[currentLang].lightMode;
                    modeIconSpan.textContent = 'тШАя╕П';
                } else {
                    modeTextSpan.textContent = translations[currentLang].nightMode;
                    modeIconSpan.textContent = 'ЁЯМЩ';
                }
            });

            // Language Selection
            langButtons.forEach(button => {
                button.addEventListener('click', () => {
                    langButtons.forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                    currentLang = button.dataset.lang;
                    updateLanguage();
                    displayLessons(document.querySelector('.class-button.bg-red-600')?.textContent.trim() || null);
                });
            });

            // Class Selection
            classButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove the red highlight from any previously selected class button
                    classButtons.forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));
                    // Add the red highlight to the clicked class button
                    button.classList.add('bg-red-600', 'hover:bg-red-700');
                    // Remove any highlight from previously selected lesson buttons
                    document.querySelectorAll('.lesson-button').forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));

                    const className = button.textContent.trim();
                    displayLessons(className);
                });
            });

            // Function to update all text based on selected language
            function updateLanguage() {
                const lang = currentLang;
                const texts = translations[lang];

                document.getElementById('header-title').textContent = texts.headerTitle;
                document.getElementById('class-title').textContent = texts.classTitle;
                document.getElementById('lesson-title').textContent = texts.lessonTitle;
                
                const isDarkMode = document.body.classList.contains('dark-mode');
                if (isDarkMode) {
                    modeTextSpan.textContent = translations[currentLang].lightMode;
                } else {
                    modeTextSpan.textContent = translations[currentLang].nightMode;
                }

                // Update class button texts
                const classNames = Object.keys(lessons['si']);
                classButtons.forEach((button, index) => {
                    if (lang === 'en') {
                        const enClassMap = {
                            '6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': 'Grade 6', '7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': 'Grade 7', '8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': 'Grade 8',
                            '9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': 'Grade 9', '10 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': 'Grade 10', '11 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': 'Grade 11'
                        };
                        const originalText = classNames[index];
                        button.textContent = enClassMap[originalText];
                    } else if (lang === 'ta') {
                        const taClassMap = {
                            '6 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '7 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '8 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║',
                            '9 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '10 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '10 роЖроорпН ро╡роХрпБрокрпНрокрпБ', '11 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '11 роЖроорпН ро╡роХрпБрокрпНрокрпБ'
                        };
                        const originalText = classNames[index];
                        button.textContent = taClassMap[originalText];
                    } else {
                        button.textContent = classNames[index];
                    }
                });

                // Re-display lessons if a class is already selected
                const selectedClassButton = document.querySelector('.class-button.bg-red-600');
                if (selectedClassButton) {
                    const originalClassText = Object.keys(lessons['si']).find(key => {
                        const enClassMap = { 'Grade 6': '6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 7': '7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 8': '8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 9': '9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 10': '10 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 11': '11 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║' };
                        const taClassMap = { '6 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '7 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '8 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '9 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '10 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '10 роЖроорпН ро╡роХрпБрокрпНрокрпБ', '11 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '11 роЖроорпН ро╡роХрпБрокрпНрокрпБ' };
                        
                        return (lang === 'si' && selectedClassButton.textContent.trim() === key) ||
                               (lang === 'en' && enClassMap[selectedClassButton.textContent.trim()] === key) ||
                               (lang === 'ta' && taClassMap[selectedClassButton.textContent.trim()] === key);
                    });
                    if (originalClassText) {
                        displayLessons(originalClassText);
                    }
                }
            }

            // Function to display lessons based on the selected class
            function displayLessons(className) {
                lessonsContainer.innerHTML = ''; // Clear existing lesson buttons
                let selectedLessons = lessons[currentLang][className];
                
                if (!selectedLessons) {
                    const originalClassKey = Object.keys(lessons['si']).find(key => {
                        const enClassMap = { 'Grade 6': '6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 7': '7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 8': '8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', 'Grade 9': '9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '10 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': '10 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '11 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║': '11 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║' };
                        const taClassMap = { '6 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '6 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '7 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '7 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '8 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '8 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '9 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '9 р╖Ар╢▒ р╖Бр╖КтАНр╢╗р╖Ър╢лр╖Тр╢║', '10 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '10 роЖроорпН ро╡роХрпБрокрпНрокрпБ', '11 роЖроорпН ро╡роХрпБрокрпНрокрпБ': '11 роЖроорпН ро╡роХрпБрокрпНрокрпБ' };
                        
                        return (currentLang === 'en' && enClassMap[className] === key) ||
                               (currentLang === 'ta' && taClassMap[className] === key);
                    });
                    if (originalClassKey) {
                        selectedLessons = lessons[currentLang][originalClassKey];
                    }
                }

                if (selectedLessons) {
                    selectedLessons.forEach((lesson, index) => {
                        const lessonButton = document.createElement('button');
                        lessonButton.textContent = `${index + 1}. ${lesson}`;
                        lessonButton.classList.add('lesson-button', 'bg-purple-600', 'hover:bg-purple-700', 'text-white', 'font-medium', 'py-3', 'px-6', 'rounded-xl', 'shadow-md', 'transition-transform', 'transform', 'hover:scale-105');
                        
                        // р╢┤р╖Пр╢йр╢╕ р╢╢р╖Ьр╢нр╖Кр╢нр╢╕ р╢Ър╖Кр╢╜р╖Тр╢Ър╖К р╢Ър╖Тр╢╗р╖Ур╢╕ р╖Гр╢│р╖Др╖П р╢▒р╖А Event Listener р╢Ср╢Ъ
                        lessonButton.addEventListener('click', () => {
                            // р╖Гр╖Тр╢║р╢╜р╖Фр╢╕ р╢┤р╢▒р╖Кр╢нр╖Т р╢╢р╖Ьр╢нр╖Кр╢нр╢╕р╖Кр╖Ар╢╜р╖Тр╢▒р╖К р╢╗р╢нр╖Ф р╢┤р╖Рр╖Др╖Рр╢║ р╢Йр╖Ар╢нр╖К р╢Ър╢╗р╢▒р╖Кр╢▒
                            classButtons.forEach(btn => btn.classList.remove('bg-red-600', 'hover:bg-red-700'));
                            
                            // р╖Гр╖Тр╢║р╢╜р╖Фр╢╕ р╢┤р╖Пр╢йр╢╕р╖К р╢╢р╖Ьр╢нр╖Кр╢нр╢╕р╖Кр╖Ар╢╜р╖Тр╢▒р╖К р╢╗р╢нр╖Ф р╢┤р╖Рр╖Др╖Рр╢║ р╢Йр╖Ар╢нр╖К р╢Ър╢╗р╢▒р╖Кр╢▒
                            document.querySelectorAll('.lesson-button').forEach(btn => {
                                btn.classList.remove('bg-red-600', 'hover:bg-red-700');
                                btn.classList.add('bg-purple-600', 'hover:bg-purple-700');
                            });
                            
                            // р╢Ър╖Кр╢╜р╖Тр╢Ър╖К р╢Ър╖Е р╢┤р╖Пр╢йр╢╕р╖К р╢╢р╖Ьр╢нр╖Кр╢нр╢╕ р╢╗р╢нр╖Ф р╢┤р╖Рр╖Др╖Рр╢║р╢з р╖Ар╖Щр╢▒р╖Гр╖К р╢Ър╢╗р╢▒р╖Кр╢▒
                            lessonButton.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                            lessonButton.classList.add('bg-red-600', 'hover:bg-red-700');
                        });
                        
                        lessonsContainer.appendChild(lessonButton);
                    });
                    lessonSelectionDiv.classList.remove('hidden'); // Show the lesson section
                } else {
                    lessonSelectionDiv.classList.add('hidden'); // Hide the lesson section
                }
            }
        });
    </script>
</body>
</html>
